<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
</head>
<body>
	<table>
		<thead>
			<tr>
				<th>#</th>
				<th>제목</th>
				<th>설명</th>
				<th>회원아이디</th>
				<th></th>
			</tr>
		</thead>
		
		<tbody>
			<tr th:each="list : ${lists}">
				<td th:text="${list.id}"></td>
				<td th:text="${list.title}"></td>
				<td th:text="${list.discription}"></td>
				<td></td>
				<td><a href="#" th:href="@{/playlist/{id}/update (id=${list.id})}"
						 role="button">수정하기</a></td>
				<td><a href="#" th:onclick="remove('[[${list.id}]]')"
						 role="button">삭제하기</a></td>			
			</tr>
		</tbody>
		
		
	</table>

</body>
<script>
	function remove(plId) {
		var form = document.createElement("form");
		form.setAttribute("method", "post");
		form.setAttribute("action", "/playlist/delete");
		var hiddenField = document.createElement("input");
        hiddenField.setAttribute("type", "hidden");
        hiddenField.setAttribute("name", "plId");
        hiddenField.setAttribute("value", plId);
        form.appendChild(hiddenField);
		
		document.body.appendChild(form);
		form.submit();
	}
</script>
</html>